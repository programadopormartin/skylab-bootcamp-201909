var dbQuestions = [
    [

    { letter: "a", answer: "abducir", status: 0, question: "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien"},
    { letter: "a", answer: "aparecer", status: 0, question: "CON LA A. Manifestarse, dejarse ver, por lo común, causando sorpresa, admiración u otro movimiento del ánimo" },
    { letter: "a", answer: "anglosajon", status: 0, question: "CON LA A. Dicho de una persona: De procedencia y lengua inglesas" },

    ],
    [
    
     { letter: "b", answer: "bingo", status: 0, question: "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso"},
     { letter: "b", answer: "bar", status: 0, question: "CON LA B. Local comercial utilizado para consumir bebidas" },
     { letter: "b", answer: "buhardilla", status: 0, question: "CON LA B. Parte de un edificio situada inmediatamente debajo del tejado, con techo en pendiente y destinada a vivienda" },

    ],
    [

    { letter: "c", answer: "churumbel", status: 0, question: "CON LA C. Niño, crío, bebé"},
    { letter: "c", answer: "cartabon", status: 0, question: "CON LA C. Plantilla de madera, plástico u otro material, en forma de triángulo rectángulo escaleno, que se utiliza en dibujo" },
    { letter: "c", answer: "ceja", status: 0, question: "CON LA C. Parte de la cara, prominente, curvilínea y cubierta de pelo, situada sobre la cuenca del ojo" },

    ],
    [

    { letter: "d", answer: "diarrea", status: 0, question: "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida"},
    { letter: "d", answer: "dragon", status: 0, question: "CON LA D. Criatura fantástica sobre la que volaba Daenerys Targaryen" },
    { letter: "d", answer: "dibujo", status: 0, question: "CON LA D. Delineación o imagen dibujada" },

    ],
    [

    { letter: "e", answer: "ectoplasma", status: 0, question: "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación"},
    { letter: "e", answer: "estornudar", status: 0, question: "CON LA E. Despedir o arrojar con violencia el aire de los pulmones, por la espiración involuntaria y repentina promovida por un estímulo que actúa sobre la membrana pituitaria" },
    { letter: "e", answer: "entrada", status: 0, question: "CON LA E. Espacio por donde se entra a alguna parte" },

    ],
    [

    { letter: "f", answer: "fosil", status: 0, question: "CON LA F. Dicho de una sustancia de origen orgánico o de un resto de organismo: Que está más o menos petrificado" },
    { letter: "f", answer: "facil", status: 0, question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad"},
    { letter: "f", answer: "faba", status: 0, question: "CON LA F. Fruto y semilla de la judía" },

    ],
    [

    { letter: "g", answer: "galaxia", status: 0, question: "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas"},
    { letter: "g", answer: "gota", status: 0, question: "CON LA G. Pequeña porción de un líquido, con forma esferoidal" },
    { letter: "g", answer: "gato", status: 0, question: "CON LA G. Mamífero carnívoro de la familia de los félidos, digitígrado, doméstico, de unos 50 cm de largo desde la cabeza hasta el arranque de la cola" },


    ],
    [

    { letter: "h", answer: "harakiri", status: 0, question: "CON LA H. Suicidio ritual japonés por desentrañamiento"},
    { letter: "h", answer: "hoguera", status: 0, question: "CON LA H. Fuego hecho al aire libre con materias combustibles que levantan mucha llama" },
    { letter: "h", answer: "hobbit", status: 0, question: "CON LA H. Habitantes de la Comarca, raza del protagonista de la famosa trilogía de J.R.R. Tolkien" },

    ],
    [

    { letter: "i", answer: "intencion", status: 0, question: "CON LA I. Determinación de la voluntad en orden a un fin" },
    { letter: "i", answer: "internet", status: 0, question: "CON LA I. Red informática mundial, descentralizada" },
    { letter: "i", answer: "iglesia", status: 0, question: "CON LA I. Templo cristiano"},

    ],
    [

    { letter: "j", answer: "jabali", status: 0, question: "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba"},
    { letter: "j", answer: "jauria", status: 0, question: "CON LA J. Conjunto de perros mandados por el mismo perrero que levantan la caza en una montería" },
    { letter: "j", answer: "jamon", status: 0, question: "CON LA J. Pierna trasera del cerdo, curada o cocida entera" },

    ],
    [

    { letter: "k", answer: "kamikaze", status: 0, question: "CON LA K. Persona que se juega la vida realizando una acción temeraria"},
    { letter: "k", answer: "koala", status: 0, question: "CON LA K. Mamífero marsupial arborícola parecido a un oso pequeño, propio de los eucaliptales australianos" },
    { letter: "k", answer: "kebab", status: 0, question: "CON LA K. Masa de carne picada que, ensartada en una varilla, se asa haciéndose girar ante una fuente de calor" },

    ],
    [

    { letter: "l", answer: "lealtad", status: 0, question: "CON LA L. Cumplimiento de lo que exigen las leyes de la fidelidad y las del honor y hombría de bien" },
    { letter: "l", answer: "lengua", status: 0, question: "CON LA L. Órgano muscular situado en la cavidad de la boca de los vertebrados y que sirve para gustar y deglutir" },
    { letter: "l", answer: "licantropo", status: 0, question: "CON LA L. Hombre lobo"},

    ],
    [

    { letter: "m", answer: "meteorito", status: 0, question: "CON LA M. Fragmento de un cuerpo celeste que cae sobre la Tierra, o sobre un astro cualquiera" },
    { letter: "m", answer: "misantropo", status: 0, question: "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas"},
    { letter: "m", answer: "monte", status: 0, question: "CON LA M. Gran elevación natural del terreno" },

    ],
    [

    { letter: "n", answer: "necedad", status: 0, question: "CON LA N. Demostración de poca inteligencia"},
    { letter: "n", answer: "nariz", status: 0, question: "CON LA N. Órgano prominente del rostro humano, entre la frente y la boca, con dos orificios" },
    { letter: "n", answer: "necio", status: 0, question: "CON LA N. Ignorante y que no sabe lo que podía o debía saber" },

    ],
    [

    { letter: "ñ", answer: "añorar", status: 0, question: "CONTIENE LA Ñ. Recordar con pena la ausencia, privación o pérdida de alguien o algo muy querido" },
    { letter: "ñ", answer: "diseñar", status: 0, question: "CONTIENE LA Ñ. hacer un diseño" },
    { letter: "ñ", answer: "señal", status: 0, question: "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo."},

    ],
    [

    { letter: "o", answer: "orco", status: 0, question: "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien"},
    { letter: "o", answer: "orquesta", status: 0, question: "CON LA O. Conjunto de músicos que interpretan obras musicales con diversos instrumentos y bajo la guía de un director" },
    { letter: "o", answer: "orar", status: 0, question: "CON LA O. Hablar en público para persuadir y convencer a los oyentes o mover su ánimo" },

    ],
    [

    { letter: "p", answer: "protoss", status: 0, question: "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft"},
    { letter: "p", answer: "poliglota", status: 0, question: "CON LA P. Dicho de una persona: Que habla varias lenguas" },
    { letter: "p", answer: "piña", status: 0, question: "CON LA P. Edificio en el que reside Bob Esponja" },

    ],
    [

    { letter: "q", answer: "adquirir", status: 0, question: "CON LA Q. Ganar, conseguir con el propio trabajo o industria" },
    { letter: "q", answer: "quad", status: 0, question: "CON LA Q. Vehículo todoterreno de cuatro ruedas similar a una motocicleta" },
    { letter: "q", answer: "queso", status: 0, question: "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche"},

    ],
    [

    { letter: "r", answer: "raton", status: 0, question: "CON LA R. Roedor"},
    { letter: "r", answer: "robar", status: 0, question: "CON LA R. Quitar o tomar para sí con violencia o con fuerza lo ajeno" },
    { letter: "r", answer: "remo", status: 0, question: "CON LA R. Instrumento en forma de pala larga y estrecha, que sirve para mover las embarcaciones haciendo palanca en el agua" },

    ], 
    [

    { letter: "s", answer: "stackoverflow", status: 0, question: "CON LA S. Comunidad salvadora de todo desarrollador informático"},
    { letter: "s", answer: "sopa", status: 0, question: "CON LA S. Plato compuesto de un caldo y uno o más ingredientes sólidos cocidos en él" },
    { letter: "s", answer: "serpiente", status: 0, question: "CON LA S. Animal identificativo de la Casa Slytherin" },

    ],
    [

    { letter: "t", answer: "tirano", status: 0, question: "CON LA T. Dicho de una persona: Que obtiene contra derecho el gobierno de un Estado, especialmente si lo rige sin justicia y a medida de su voluntad" },
    { letter: "t", answer: "tormenta", status: 0, question: "CON LA T. Perturbación atmosférica violenta acompañada de aparato eléctrico y viento fuerte, lluvia, nieve o granizo" },
    { letter: "t", answer: "terminator", status: 0, question: "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984"},

    ],
    [

    { letter: "u", answer: "unamuno", status: 0, question: "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914"},
    { letter: "u", answer: "urticaria", status: 0, question: "CON LA U. Enfermedad eruptiva de la piel, cuyo síntoma más notable es una comezón parecida a la que producen las picaduras de la ortiga" },
    { letter: "u", answer: "untar", status: 0, question: "CON LA U. Aplicar y extender superficialmente aceite u otra materia pingüe sobre algo" },

    ],
    [

    { letter: "v", answer: "vertedero", status: 0, question: "CON LA V. Lugar adonde o por donde se vierte algo" },
    { letter: "v", answer: "vocal", status: 0, question: "CON LA V. Perteneciente o relativo a la voz" },
    { letter: "v", answer: "vikingos", status: 0, question: "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa"},

    ],
    [

    { letter: "w", answer: "wasabi", status: 0, question: "CONTIENE LA W. Pasta de color verde y picante que se sirve para acompañar delicias como el sushi o el sashimi" },
    { letter: "w", answer: "walkman", status: 0, question: "CONTIENE LA W. Reproductor portátil de casetes provisto de auriculares" },
    { letter: "w", answer: "sandwich", status: 0, question: "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso"},

    ],   
    [

    { letter: "x", answer: "xenon", status: 0, question: "CONTIENE LA X. Elemento químico o cuerpo simple, gaseoso, incoloro e inodoro, encontrado en el aire" },
    { letter: "x", answer: "xenofoba", status: 0, question: "CONTIENE LA X. Dicho de una persona: Que siente o manifiesta xenofobia" },
    { letter: "x", answer: "botox", status: 0, question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética"},

    ],   
    [

    { letter: "y", answer: "yacare", status: 0, question: "CONTIENE LA Y. Caimán"},
    { letter: "y", answer: "yate", status: 0, question: "CONTIENE LA Y. Embarcación de gala o de recreo"},
    { letter: "y", answer: "peyote", status: 0, question: "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos"},

    ],
    [

    { letter: "z", answer: "zoo", status: 0, question: "CON LA Z. Parque zoológico"},
    { letter: "z", answer: "zorro", status: 0, question: "CON LA Z. Mamífero cánido de menos de un metro de longitud, incluida la cola, de hocico alargado y orejas empinadas, pelaje de color pardo rojizo y muy espeso"},
    { letter: "z", answer: "zen", status: 0, question: "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional"},

    ],

];

var chosenList = [ ];
var questions = [ ];

function pasapalabra() {

    var playerName;
    var players = [];
    var pasaPalabras = [];
    var playerLetters = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];//0 empty, 1 correct answer, 2 incorrect answer, this is intended to avoid the program for ask the player again the same letter
    
    function randomList (max, min){ //generates for me an array integer from 1 to 3
        min = min;
        max = max;
        return min + Math.floor(Math.random()*(max - min + 1))
    }

    function ListCreator(){
        CleanArray(dbQuestions);
        questions = [ ];

        for(var i=0; i<dbQuestions.length; i++){
            questions.push (dbQuestions[i][randomList (2, 0)]);
        }
    }

    function GameStart() {

        console.log("Bienvenidos a SkyLab Pasa Palabra, gracias por jugar, actualmente tenemos un bote de 4.815.162.342 €");
        console.log("Con cada pregunta acertada ganaremos 2000 € y del mismo modo restaremos 2000 por cada fallo, adelante empecemos...");
        playerName = prompt("Por favor introduzca su nombre");
        ListCreator();
        GamePlay();
    }

    GameStart();

    function CheckAnswers(array){ 
        var success = 0;
        var error = 0;
        var pending = 0;
        var money = 0;
            
        for(i=0;i < array.length;i++){
            if(array[i] === 3){
                pending +=1;
            }else if(array[i] === 1){
                success +=1;
            }else if (array[i]=== 2){
                error +=1;
            }
        }
        money = success * 2000;
        console.log("Bien " + playerName + " Hagamos recuento, has obtenido " + success + " aciertos con lo cual has ganado " + money + " Euros, lo cual no está nada mal."  );
        console.log("En cuanto al os fallos " + playerName + " haciendo un recuento, has fallado en " + error + " ocasiones.");
        console.log("Has pasado palabra " + pending + " veces, ahora procederemos con tu compañero a ver que tal le va con el rosco")
    }
    
    function CleanArray(array){ //we clean array status for next players

    var array = array;

        for (i = 0; i<array.length; i++){
            for(j=0;j<array[i].length; j++){
                array[i][j].status = 0;
            }   
            
        } 

    }


    function GamePlay() {

               
        var errors = 0;
        var score = 0;
        var turns = 27;
        
        while(turns > 0) {

            for(var i = 0; i < questions.length; i++) {
                
                if(questions[i].status === 0 || questions[i].status === 3) { //0 is a non used value, 1 is a success, 2 is an error, 3 is a pasapalabra
    
                    var pQuest = prompt(questions[i].question);
                    pAnswer = pQuest.toLowerCase();  //all entries will turned into lower case
                    if (pAnswer === "end"){ //we can stop the game at this point
                        turns = 0;
                        i = questions.length;
                        break;

                    }else if (pAnswer === questions[i].answer) {

                        score += 1;
                        turns -= 1;
                        questions[i].status = 1;
                        playerLetters.splice(i,1, 1);
                        
                        console.log(questions[i].answer + "!!!" + " Correcto!");
                                            
                    }else if (pAnswer === "pasapalabra"){

                        playerLetters.push(3); // gameplay wont allow us to splice
                        questions[i].status = 3;
                        pasaPalabras.push(questions[i].letter);
                                                
                        console.log("Pasamos palabra");
     
                    }else if (pAnswer !== "pasapalabra" || pAnswer !== questions[i].answer){

                        errors += 1;
                        turns -= 1;
                        questions[i].status = 2;
                        playerLetters.splice(i,1, 2);
                        
                        console.log("Incorrecto!, Ohh lo siento... pasamos a la siguiente!");

                    }
                }
                     
            }
        }

        players.push({name: playerName, score: score, errors: errors});

        CheckAnswers(playerLetters);
        questions = [ ];
        
        var ndPlayer = confirm("Qué tal si vamos con el otro concursante?")

        if (ndPlayer === true) {
                GameStart();
            } else {
                TotalScore(); 
            }

    }

    function TotalScore() { // Object sort
        
        scBoard = players;
        
        scBoard.sort(function (a, b) {
            return b.score - a.score;   
        });
        
        for (i = 0; i < scBoard.length; i++){ 
            scoreBoard = [scBoard[i].name + " con una puntuación total de  " + scBoard[i].score + " aciertos. "];
            console.log (scoreBoard);

            } 
 
             
    }

}

pasapalabra();