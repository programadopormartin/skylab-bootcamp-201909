let a = [
  {answer: "abducir", status: 0, selected: 0, question: "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien"},
  {answer: "abierto", status: 0, selected: 0, question: "CON LA A. No murado, no cercado o no cerrado"},
  {answer: "abecedario", status: 0, selected: 0, question: "CON LA A. Serie ordenada de las letras de un idioma."},
]
let b = [
  {answer: "bingo", status: 0, selected: 0, question: "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso"},
  {answer: "babero", status: 0, selected: 0, question: "CON LA B. Tela que se pone a los bebés en el pecho para que no se manchen al comer"},
  {answer: "broca", status: 0, selected: 0, question: "CON LA B. Herramienta formada por una barra metálica con la punta en espiral, para hacer agujeros en el material duro"},
]
let c = [
  {answer: "churumbel", status: 0, selected: 0, question: "CON LA C. Niño, crío, bebé"},
  {answer: "chollo", status: 0, selected: 0, question: "CON LA C. Cosa apreciable que se adquiere a poca costa"},
  {answer: "cabalgata", status: 0, selected: 0, question: "CON LA C. Desfile de jinetes, carrozas, bandas de música, danzantes, etc., que se organiza como festejo popular"},
]
let d = [
  {answer: "diarrea", status: 0, selected: 0, question: "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida"},
  {answer: "dentadura", status: 0, selected: 0, question: "CON LA D. Conjunto de dientes, muelas y colmillos que tiene en la boca una persona o un animal"},
  {answer: "dormir", status: 0, selected: 0, question: "CON LA D. Forma de descanso que hacemos por las noches o en la siesta, con los ojos cerrados"},
]
let e = [
  {answer: "ectoplasma", status: 0, selected: 0, question: "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación"},
  {answer: "estrenar", status: 0, selected: 0, question: "CON LA E. Hacer uso por primera vez de algo"},
  {answer: "elegante", status: 0, selected: 0, question: "CON LA E. Dotado de gracia, nobleza y sencillez."},
]
let f = [
  {answer: "facil", status: 0, selected: 0, question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad"},
  {answer: "fiebre", status: 0, selected: 0, question: "CON LA F. Fenómeno patológico que se manifiesta por elevación de la temperatura normal del cuerpo y mayor frecuencia del pulso y la respiración"},
  {answer: "fisioterapia", status: 0, selected: 0, question: "CON LA F. Tratamiento de las enfermedades o lesiones por medio de elementos mecánicos, como el masaje o la gimnasia"},
]
let g = [
  {answer: "galaxia", status: 0, selected: 0, question: "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas"},
  {answer: "globo", status: 0, selected: 0, question: "CON LA G. Receptáculo de materia flexible lleno de gas, que sirve de juguete para los niños, como decoración en fiestas, etc."},
  {answer: "golfo", status: 0, selected: 0, question: "CON LA G. Gran porcióndemar que se interna en la tierra entre dos cabos"},
]
let h = [
  {answer: "harakiri", status: 0, selected: 0, question: "CON LA H. Suicidio ritual japonés por desentrañamiento"},
  {answer: "humo", status: 0, selected: 0, question: "CON LA H. Mezcla visible de gases producida por la combustión de una sustancia, generalmente compuesta de carbono, y que arrastra partículas en suspensión."},
  {answer: "hidratar", status: 0, selected: 0, question: "CON LA H. Restablecer el grado de humedad normal de la piel u otros tejidos"},
]
let i = [
  {answer: "iglesia", status: 0, selected: 0, question: "CON LA I. Templo cristiano"},
  {answer: "irlanda", status: 0, selected: 0, question: "CON LA I. País europeo con capital en Dublín"},
  {answer: "ideal", status: 0, selected: 0, question: "CON LA I. Perteneciente o relativo a la idea"},
]
let j = [
  {answer: "jabali", status: 0, selected: 0, question: "CON LA J. Variedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba"},
  {answer: "jamiroquai", status: 0, selected: 0, question: "CON LA J. Grupo musical de funk que en 1996 publicó el álbum Travelling without Moving"},
  {answer: "jacuzzi", status: 0, selected: 0, question: "CON LA J. Bañera para hidromasaje"},
]
let k = [
  {answer: "kamikaze", status: 0, selected: 0, question: "CON LA K. Persona que se juega la vida realizando una acción temeraria"},
  {answer: "karateca", status: 0, selected: 0, question: "CON LA K. Persona que practica el kárate"},
  {answer: "kebab", status: 0, selected: 0, question: "CON LA K. Masa de carne picada que, ensartada en una varilla, se asa haciéndose girar ante una fuente de calor"},
]
let l = [
  {answer: "licantropo", status: 0, selected: 0, question: "CON LA L. Hombre lobo"},
  {answer: "levante", status: 0, selected: 0, question: "CON LA L. Viento procedente del este"},
  {answer: "labial", status: 0, selected: 0, question: "CON LA L. Perteneciente o relativo a los labios"},
]
let m = [
  {answer: "misántropo", status: 0, selected: 0, question: "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas"},
  {answer: "machete", status: 0, selected: 0, question: "CON LA M. Arma blanca, más corta que la espada, ancha, pesada y de un solo filo"},
  {answer: "madrileño", status: 0, selected: 0, question: "CON LA M. Natural de Madrid, capital de España, de su provincia o de la Comunidad de Madrid"},
]
let n = [
  {answer: "necedad", status: 0, selected: 0, question: "CON LA N. Demostración de poca inteligencia"},
  {answer: "noruego", status: 0, selected: 0, question: "CON LA N. Natural del país europeo con capital en Oslo"},
  {answer: "nacional", status: 0, selected: 0, question: "CON LA N. Perteneciente o relativo a una nación"},
]
let ñ = [
  {answer: "señal", status: 0, selected: 0, question: "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo"},
  {answer: "leña", status: 0, selected: 0, question: "CONTIENE LA Ñ. Parte de los árboles y matas que, cortada y hecha trozos, se emplea como combustible"},
  {answer: "ñoñez", status: 0, selected: 0, question: "CON LA Ñ. Cualidad de ñoño"},
]
let o = [
  {answer: "orco", status: 0, selected: 0, question: "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien"},
  {answer: "obsoleto", status: 0, selected: 0, question: "CON LA O. Anticuado, inadecuado a las circunstancias actuales"},
  {answer: "objetar", status: 0, selected: 0, question: "CON LA O. Oponer reparo a una opinión o designio"},
]
let p = [
  {answer: "protoss", status: 0, selected: 0, question: "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft"},
  {answer: "párvulo", status: 0, selected: 0, question: "CON LA P. Se dice de un niño de muy corta edad"},
  {answer: "pacheco", status: 0, selected: 0, question: "CON LA P. Frío intenso"},
]
let q = [
  {answer: "queso", status: 0, selected: 0, question: "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche"},
  {answer: "bosque", status: 0, selected: 0, question: "CONTIENE LA Q. Sitio poblado de árboles y matas"},
  {answer: "quebrantar", status: 0, selected: 0, question: "CON LA Q. Romper, separar con violencia"},
]
let r = [
  {answer: "raton", status: 0, selected: 0, question: "CON LA R. Roedor"},
  {answer: "ring", status: 0, selected: 0, question: "CON LA R. Espacio cercado en el que combaten los boxeadores"},
  {answer: "rabal", status: 0, selected: 0, question: "CON LA R. Barrio exterior o extremo de una ciudad, arrabal"},
]
let s = [
  {answer: "stackoverflow", status: 0, selected: 0, question: "CON LA S. Comunidad salvadora de todo desarrollador informático"},
  {answer: "silencio", status: 0, selected: 0, question: "CON LA S. Falta de ruido"},
  {answer: "saber", status: 0, selected: 0, question: "CON LA S. Tener noticia o conocimiento de algo"},
]
let t = [
  {answer: "terminator", status: 0, selected: 0, question: "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984"},
  {answer: "talco", status: 0, selected: 0, question: "CON LA T. Silicato de magnesia que, en forma de polvo, se utiliza para higiene y en la industria cosmética"},
  {answer: "taburete", status: 0, selected: 0, question: "CON LA T. Asiento sin brazos ni respaldo, para una persona"},
]
let u = [
  {answer: "unamuno", status: 0, selected: 0, question: "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914"},
  {answer: "usurpar", status: 0, selected: 0, question: "CON LA U. Apoderarse de una propiedad o de un derecho que legítamente pertence a otro, por lo general con violencia"},
  {answer: "ubicar", status: 0, selected: 0, question: "CON LA U. Situar o instalar en determinado espacio o lugar"},
]
let v = [
  {answer: "vikingos", status: 0, selected: 0, question: "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa"},
  {answer: "vispera", status: 0, selected: 0, question: "CON LA V. Día que antecede inmediatamente a otro determinado, especialmente si es fiesta"},
  {answer: "vacante", status: 0, selected: 0, question: "CON LA V. Que está sin ocupar"},
]
let w = [
  {answer: "sandwich", status: 0, selected: 0, question: "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso"},
  {answer: "windsurf", status: 0, selected: 0, question: "CON LA W. Deporte que consiste en deslizarse por el agua sobre una tabla especial provista de una vela"},
  {answer: "wéstern", status: 0, selected: 0, question: "CON LA W. Género de películas del Lejano Oeste"},
]
let x = [
  {answer: "botox", status: 0, selected: 0, question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética"},
  {answer: "flexibilizar", status: 0, selected: 0, question: "CONTiENE LA X. Hacer flexible algo, darle flexibilidad"},
  {answer: "xenón", status: 0, selected: 0, question: "CON LA X. Elemento químico de núm. atóm. 54, perteneciente al grupo de los gases nobles."},
]
let y = [
  {answer: "peyote", status: 0, selected: 0, question: "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal por indígenas americanos"},
  {answer: "Guy, Ritchie", status: 0, selected: 0, question: "CONTIENE LA Y. Nombre propio del realizador que dirigió la película Revolver en 2005"},
  {answer: "yarda", status: 0, selected: 0, question: "CON LA Y. Medida de longitud equivalente a 0, 914 m"},
]
let z = [
  {answer: "zen", status: 0, selected: 0, question: "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional"},
  {answer: "zanjaste", status: 0, selected: 0, question: "CON LA Z. Segunda persona de singular del pretérito perfecto simple de indicativo del verbo zanjar"},
  {answer: "zafiro", status: 0, selected: 0, question: "CON LA Z. Corindón cristalizado de color azul"},
]
let questions = [
  { letter: "a", questions: a},
  { letter: "b", questions: b},
  { letter: "c", questions: c},
  { letter: "d", questions: d},
  { letter: "e", questions: e},
  { letter: "f", questions: f},
  { letter: "g", questions: g},
  { letter: "h", questions: h},
  { letter: "i", questions: i},
  { letter: "j", questions: j},
  { letter: "k", questions: k},
  { letter: "l", questions: l},
  { letter: "m", questions: m},
  { letter: "n", questions: n},
  { letter: "ñ", questions: ñ},
  { letter: "o", questions: o},
  { letter: "p", questions: p},
  { letter: "q", questions: q},
  { letter: "r", questions: r},
  { letter: "s", questions: s},
  { letter: "t", questions: t},
  { letter: "u", questions: u},
  { letter: "v", questions: v},
  { letter: "w", questions: w},
  { letter: "x", questions: x},
  { letter: "y", questions: y},
  { letter: "z", questions: z}
]

function playerName(){
    let user = prompt("Introduce your user, please")
    return user
}
function roscoComplete(){
  for(let i = 0; i < questions.length; i++){
    for (let j = 0; j < 3; j++) {
      if(questions[i]['questions'][j]['selected'] === 1){
        if(questions[i]['questions'][j]['status'] === 0) return false
      }        
    }
  }
  return true
}
function finshGame(){
  let finished = confirm("Do you want to continue playing the game?")
  return finished
}
function randomNumber(numQuestions){
  let number
  number = Math.floor((Math.random()*numQuestions))
  return number
}
function askQuestions(recordQuestSelected){
  // Number of questions per letter
  const numQuestion = 3
  const totalLetters = 27
  let questNum
  for(let i = 0; i < questions.length; i++ ){
    if(recordQuestSelected.length !== totalLetters) {
      questNum = randomNumber(numQuestion)
      let questSelected = {letter: questions[i]['letter'], number: questNum}
      recordQuestSelected.push(questSelected)
      questions[i]['questions'][questNum]['selected'] = 1
    }else{
      questNum = recordQuestSelected[i]['number']
    }
    
    if(questions[i]['questions'][questNum]['status'] === 0){
      let answer = prompt(questions[i]['questions'][questNum]['question']+". Write Pasapalabra or press cancel if you don't know the answer.")
      if(answer !== null) answer = answer.toLowerCase()
      switch (answer) {
        case questions[i]['questions'][questNum]['answer'].toLowerCase():
            questions[i]['questions'][questNum]['status'] = 1
            console.log(questions[i]["letter"].toLocaleUpperCase()+' - Correct, you have 1 Point!')
          break;
        case "pasapalabra":
          break;
        case null:
          break;
        default:
            questions[i]['questions'][questNum]['status'] = -1
            console.log('Incorrect! '+questions[i]['questions'][questNum]['question']+'. Answer: '+questions[i]['questions'][questNum]['answer'])
          break;
      }
    }
  }
  return recordQuestSelected
}
function countScore(recordQuestSelected){
  let score = 0
  for(let i = 0; i < questions.length; i++ ){
    let questNum = recordQuestSelected[i]['number']
    if(questions[i]['questions'][questNum]['status'] === 1) score++
  }
  return score
}
function addToRanking(player){
    let addRecord = false
    for(let i = 0; i < rank.length; i++){
      if(rank[i]['score'] <= player['score'] && addRecord === false){
        player['ranking'] = rank[i]['ranking']
        rank.splice(i,0,player)
        addRecord = true
        i++
      }
      if(addRecord === true) rank[i]['ranking'] = rank[i]['ranking']+1
    }
    if(addRecord === false){
      if(rank.length == 0){
        player['ranking'] = 1
      }else{
        let position = rank.length-1
        player['ranking'] = rank[position]['ranking']+1
      }
      rank.push(player)
    }
  }
function printRanking(ranking){
    console.log("RANKING:")
    for(let i = 0; i < ranking.length; i++){
        console.log(ranking[i]["ranking"]+". Player name: "+ ranking[i]["player"]+" Score: "+ranking[i]['score'])
    }
    if(rank.length == 0) console.log("There are no records.")
    console.log("_____________________")
}
function pasapalabra(){
    let user = playerName()
    if(user === '') user = "Player one"
    console.log("Player name: "+ user)
    let gameFinished = false
    let earlyEnd = true
    let recordQuestSelected = []
    let playerScore = {player: user, score: 0, ranking: 0}
    do {
      recordQuestSelected = askQuestions(recordQuestSelected)
      gameFinished = roscoComplete()
      if(gameFinished === false){
        earlyEnd = finshGame()
        if(earlyEnd === false){
          console.log("Good bye!")
          break
        }
      }
    } while (gameFinished === false);
    if(gameFinished === true){
      playerScore['score'] = countScore(recordQuestSelected)
      console.log(playerScore['score'])
      addToRanking(playerScore)
    }
}
function resetGame(){
  for(let i = 0; i < questions.length; i++){
    for (let j = 0; j < 3; j++) {
      questions[i]['questions'][j]['selected'] = 0
      questions[i]['questions'][j]['status'] = 0        
    }
  }
}
function playPasapalabra(){
  let playAgain
  do{
    pasapalabra()
    printRanking(rank)
    resetGame()
    playAgain = confirm("Do you want to play again?")
  }while(playAgain === true)
  console.log("Good bye!")
}
let rank = []
playPasapalabra()